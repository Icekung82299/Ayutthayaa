-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏î E ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
local function pressE(prompt)
    if prompt and prompt:IsA("ProximityPrompt") then
        fireproximityprompt(prompt) -- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    end
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î F
local UserInputService = game:GetService("UserInputService")
local isFPressed = false -- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏î F ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

-- üü¢ Toggle Auto Farm Rock
local TabRock = Window:MakeTab({
    Name = "Auto Farm Rock",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- üü¢ Toggle Auto Farm Rock
TabRock:AddToggle({
    Name = "Auto Farm Rock (NoClip & Float Under Rock)",
    Default = false,
    Callback = function(state)
        _G.autoFarmRock = state
        setNoClip(state) -- ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏¥‡∏î NoClip + ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏ô
    end
})

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î F ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ü‡∏≤‡∏£‡πå‡∏°
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if gameProcessedEvent then return end -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏Ç‡πâ‡∏≤‡∏°
    if input.KeyCode == Enum.KeyCode.F then
        isFPressed = not isFPressed -- ‡∏™‡∏•‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏î F
        if isFPressed then
            print("‚è≥ ‡πÄ‡∏£‡∏¥‡πà‡∏° Auto Farm Rock!")
            _G.autoFarmRock = true
            setNoClip(true) -- ‡πÄ‡∏õ‡∏¥‡∏î NoClip + ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏ô
        else
            print("üõë ‡∏´‡∏¢‡∏∏‡∏î Auto Farm Rock!")
            _G.autoFarmRock = false
            setNoClip(false) -- ‡∏õ‡∏¥‡∏î NoClip ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î
        end
    end
end)

-- üü¢ ‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏´‡∏¥‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î
while true do
    if _G.autoFarmRock then
        local rockModels = workspace.RockSpawner:GetChildren()

        if #rockModels == 0 then
            print("‚è≥ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡∏¥‡∏ô‡πÉ‡∏ô RockSpawner ‡∏£‡∏≠...")
            task.wait(1) -- ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏´‡∏¥‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà
        else
            for _, rock in ipairs(rockModels) do
                if not _G.autoFarmRock then break end
                local base = rock:FindFirstChild("Base")
                local prompt = base and base:FindFirstChild("Prompt")

                if base and prompt then
                    -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏¥‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = base.CFrame * CFrame.new(0, -2, 0)
                    
                    -- ‡∏Å‡∏î E ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
                    while _G.autoFarmRock and base and base.Parent and base:FindFirstChild("Prompt") do
                        pressE(prompt)
                        task.wait(0.05) -- ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
                    end
                end
            end
        end
    end
    task.wait(0.5)
end
